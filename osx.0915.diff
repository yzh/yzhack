diff -aurbN -x.svn -xMakefile yzhack/include/config.h yzhack-osx/include/config.h
--- yzhack/include/config.h	2007-09-14 15:34:31.000000000 +0900
+++ yzhack-osx/include/config.h	2007-09-15 11:16:02.000000000 +0900
@@ -373,7 +373,7 @@
 
 #ifdef TTY_GRAPHICS
 #define MENU_COLOR
-#define MENU_COLOR_REGEX
+//#define MENU_COLOR_REGEX
 /* if MENU_COLOR_REGEX is defined, use regular expressions (GNU regex.h)
  * otherwise use pmatch() to match menu color lines.
  * pmatch() provides basic globbing: '*' and '?' wildcards.
diff -aurbN -x.svn -xMakefile yzhack/include/unixconf.h yzhack-osx/include/unixconf.h
--- yzhack/include/unixconf.h	2007-09-13 22:43:50.000000000 +0900
+++ yzhack-osx/include/unixconf.h	2007-09-15 11:22:37.000000000 +0900
@@ -19,13 +19,13 @@
  */
 
 /* define exactly one of the following four choices */
-/* #define BSD 1 */	/* define for 4.n/Free/Open/Net BSD  */
+#define BSD 1	/* define for 4.n/Free/Open/Net BSD  */
 			/* also for relatives like SunOS 4.x, DG/UX, and */
 			/* older versions of Linux */
 /* #define ULTRIX */	/* define for Ultrix v3.0 or higher (but not lower) */
 			/* Use BSD for < v3.0 */
 			/* "ULTRIX" not to be confused with "ultrix" */
-#define SYSV	/* define for System V, Solaris 2.x, newer versions */
+/* #define SYSV */	/* define for System V, Solaris 2.x, newer versions */
 			/* of Linux */
 /* #define HPUX */	/* Hewlett-Packard's Unix, version 6.5 or higher */
 			/* use SYSV for < v6.5 */
@@ -37,7 +37,7 @@
 #define NETWORK		/* if running on a networked system */
 			/* e.g. Suns sharing a playground through NFS */
 /* #define SUNOS4 */	/* SunOS 4.x */
-#define LINUX	/* Another Unix clone */
+/* #define LINUX */	/* Another Unix clone */
 /* #define CYGWIN32 */	/* Unix on Win32 -- use with case sensitive defines */
 /* #define GENIX */	/* Yet Another Unix Clone */
 /* #define HISX */	/* Bull Unix for XPS Machines */
@@ -143,7 +143,7 @@
  * A stat system call is done on the mailbox every MAILCKFREQ moves.
  */
 
-#define MAIL			/* Deliver mail during the game */
+/* #define MAIL */			/* Deliver mail during the game */
 
 /* The Andrew Message System does mail a little differently from normal
  * UNIX.  Mail is deposited in the user's own directory in ~/Mailbox
diff -aurbN -x.svn -xMakefile yzhack/sys/unix/Makefile.src yzhack-osx/sys/unix/Makefile.src
--- yzhack/sys/unix/Makefile.src	2007-09-13 22:43:50.000000000 +0900
+++ yzhack-osx/sys/unix/Makefile.src	2007-09-15 11:23:33.000000000 +0900
@@ -127,8 +127,8 @@
 
 # flags for Linux
 #   compile normally
-CFLAGS = -O2 -fomit-frame-pointer -I../include
-LFLAGS = -L/usr/X11R6/lib
+# CFLAGS = -O2 -fomit-frame-pointer -I../include
+# LFLAGS = -L/usr/X11R6/lib
 #   OR compile backwards compatible a.out format
 # CFLAGS = -O2 -b i486-linuxaout -fomit-frame-pointer -I../include
 # LFLAGS = -b i486-linuxaout -L/usr/X11R6/lib
@@ -154,8 +154,8 @@
 # flags for debugging:
 # CFLAGS = -g -I../include
 
-# CFLAGS = -W -g -O -I../include
-# LFLAGS = 
+CFLAGS = -W -g -O -I../include -DNeXT -Dbsdi
+LFLAGS = 
 
 # The Qt and Be window systems are written in C++, while the rest of
 # NetHack is standard C.  If using Qt, uncomment the LINK line here to get
diff -aurbN -x.svn -xMakefile yzhack/sys/unix/Makefile.utl yzhack-osx/sys/unix/Makefile.utl
--- yzhack/sys/unix/Makefile.utl	2007-09-13 22:43:50.000000000 +0900
+++ yzhack-osx/sys/unix/Makefile.utl	2007-09-15 11:24:10.000000000 +0900
@@ -89,7 +89,7 @@
 # flags for debugging:
 # CFLAGS = -g -I../include
 
-CFLAGS = -O -I../include
+CFLAGS = -O -I../include -DNeXT -Dbsdi
 LFLAGS =
 
 LIBS =
diff -aurbN -x.svn -xMakefile yzhack/win/tty/termcap.c yzhack-osx/win/tty/termcap.c
--- yzhack/win/tty/termcap.c	2007-09-13 22:43:50.000000000 +0900
+++ yzhack-osx/win/tty/termcap.c	2007-09-15 11:24:42.000000000 +0900
@@ -862,7 +862,7 @@
 #include <curses.h>
 
 #ifndef LINUX
-extern char *tparm();
+//extern char *tparm();
 #endif
 
 #  ifdef COLOR_BLACK	/* trust include file */
